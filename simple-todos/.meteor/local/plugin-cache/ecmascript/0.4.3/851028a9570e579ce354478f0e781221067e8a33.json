{"metadata":{"usedHelpers":[],"marked":[],"modules":{"imports":[{"source":"meteor/templating","imported":["Template"],"specifiers":[{"kind":"named","imported":"Template","local":"Template"}]},{"source":"meteor/reactive-dict","imported":["ReactiveDict"],"specifiers":[{"kind":"named","imported":"ReactiveDict","local":"ReactiveDict"}]},{"source":"../api/tasks.js","imported":["Tasks"],"specifiers":[{"kind":"named","imported":"Tasks","local":"Tasks"}]},{"source":"./task.js","imported":[],"specifiers":[]},{"source":"./body.html","imported":[],"specifiers":[]}],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"/imports/ui/body.js","filenameRelative":"/imports/ui/body.js","env":{},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":false,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"/imports/ui/body.js.map","sourceFileName":"/imports/ui/body.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"basename":"body"},"ignored":false,"code":"var _templating = require('meteor/templating');\n\nvar _reactiveDict = require('meteor/reactive-dict');\n\nvar _tasks = require('../api/tasks.js');\n\nrequire('./task.js');\n\nrequire('./body.html');\n\n_templating.Template.body.onCreated(function () {\n  function bodyOnCreated() {\n    this.state = new _reactiveDict.ReactiveDict();\n  }\n\n  return bodyOnCreated;\n}());\n\n_templating.Template.body.helpers({\n  tasks: function () {\n    function tasks() {\n      // Show newest tasks at the top\n      return _tasks.Tasks.find({}, { sort: { createdAt: -1 } });\n    }\n\n    return tasks;\n  }()\n});\n\n_templating.Template.body.events({\n  'submit .new-task': function () {\n    function submitNewTask(event) {\n      // Prevent default browser form submit\n      event.preventDefault();\n\n      // Get value from form element\n      var target = event.target;\n      var text = target.text.value;\n\n      console.log(event);\n\n      // Insert a task into the collection\n      _tasks.Tasks.insert({\n        text: text,\n        createdAt: new Date() });\n\n      // Clear form\n      // current time\n      target.text.value = '';\n    }\n\n    return submitNewTask;\n  }()\n});","ast":null,"map":{"version":3,"sources":["/imports/ui/body.js"],"names":[],"mappings":"AAAA;;AACA;;AAEA;;AAEA;;AACA;;AAEA,qBAAS,IAAT,CAAc,SAAd;AAAwB,WAAS,aAAT,GAAyB;AAC/C,SAAK,KAAL,GAAa,gCAAb,CAD+C;GAAzB;;SAAS;GAAjC;;AAIA,qBAAS,IAAT,CAAc,OAAd,CAAsB;AACpB;qBAAQ;;AAEN,aAAO,aAAM,IAAN,CAAW,EAAX,EAAe,EAAE,MAAM,EAAE,WAAW,CAAC,CAAD,EAAnB,EAAjB,CAAP,CAFM;;;;KADY;CAAtB;;AAOA,qBAAS,IAAT,CAAc,MAAd,CAAqB;AACnB;2BAAmB,OAAO;;AAExB,YAAM,cAAN;;;AAFwB,UAKlB,SAAS,MAAM,MAAN,CALS;AAMxB,UAAM,OAAO,OAAO,IAAP,CAAY,KAAZ,CANW;;AAQxB,cAAQ,GAAR,CAAY,KAAZ;;;AARwB,kBAWxB,CAAM,MAAN,CAAa;AACX,kBADW;AAEX,mBAAW,IAAI,IAAJ,EAAX,EAFF;;;AAXwB;AAiBxB,aAAO,IAAP,CAAY,KAAZ,GAAoB,EAApB,CAjBwB;;;;KADP;CAArB","file":"/imports/ui/body.js.map","sourcesContent":["import { Template } from 'meteor/templating';\r\nimport { ReactiveDict } from 'meteor/reactive-dict';\r\n\r\nimport { Tasks } from '../api/tasks.js';\r\n\r\nimport './task.js';\r\nimport './body.html';\r\n\r\nTemplate.body.onCreated(function bodyOnCreated() {\r\n  this.state = new ReactiveDict();\r\n});\r\n \r\nTemplate.body.helpers({\r\n  tasks() {\r\n    // Show newest tasks at the top\r\n    return Tasks.find({}, { sort: { createdAt: -1 } });\r\n  },\r\n});\r\n \r\nTemplate.body.events({\r\n  'submit .new-task'(event) {\r\n    // Prevent default browser form submit\r\n    event.preventDefault();\r\n \r\n    // Get value from form element\r\n    const target = event.target;\r\n    const text = target.text.value;\r\n    \r\n    console.log(event);\r\n \r\n    // Insert a task into the collection\r\n    Tasks.insert({\r\n      text,\r\n      createdAt: new Date(), // current time\r\n    });\r\n \r\n    // Clear form\r\n    target.text.value = '';\r\n  },\r\n});"]},"hash":"851028a9570e579ce354478f0e781221067e8a33"}
